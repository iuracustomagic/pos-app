const _0x56744c=_0x41c8;function _0x530a(){const n=["4670712XyFOIA","1-2023","axios","24ISnfpn","&date="," from date","s, downloa","e: ","uUQuG","split","UPPmZ","287710MFyCwU","dex ","jsHWP","error","7.1","psettings.","1587370YzNDsx","map","Cxuhb","Left more ","ndPzZ","then","than 5 day"," chunk of ","message","get","info","zxQxk","om&page=","/server/ap","ymfAz","the api ad","nomenclatu","aturn","WNETf","../schema/","updateOne","Fetching n","parse","g to get n","wEQvL","pGPVT","PrhFm","readFileSy","exports","ding all n","json","781955JgXCeF",", error me","bulkWrite","1572852IRVFhv","tion-statu","ored on pa","mSZkm","4oWswMr","utf-8","jQEWP","An error w",", current ","env","qVnWk","vlVBw","hile tryin","MCcna","dress, err"," } ","NsXms","omenclatur","103131rgYQyD","initializa","CLgnA","Basic ","ssage: ","RMlne","exchange:s",", from dat","Can't get ","/?url=getN","toISOStrin","&date=01-0","join","Failed to ","write this","unrrg","IfmbV","cNAzu","chunk: ","es from in","data","jDMNx","send","../logger","_id","extra","ge: ","../helpers","VJPxz","res: ","&Warehous=","index","length","e chunks","31206tXuNRQ","63qZTAlw"];return(_0x530a=function(){return n})()}!function(){for(var n=_0x41c8,r=_0x530a();;)try{if(324936==-parseInt(n(331))+parseInt(n(344))/2+parseInt(n(384))/3+-parseInt(n(388))/4*(-parseInt(n(381))/5)+parseInt(n(336))/6*(parseInt(n(297))/7)+parseInt(n(333))/8+parseInt(n(332))/9*(-parseInt(n(350))/10))break;r.push(r.shift())}catch(n){r.push(r.shift())}}();const axios=require(_0x56744c(335)),fs=require("fs"),logger=require(_0x56744c(320)),{product,discount}=require(_0x56744c(369)+_0x56744c(328)),daysInMonth=require(_0x56744c(324))["daysInMonth"],turned_off=require(process[_0x56744c(288)][_0x56744c(322)]+(_0x56744c(363)+_0x56744c(349)+_0x56744c(380)))["turned_off"],[year,month,day]=turned_off?turned_off[_0x56744c(342)]("-")[_0x56744c(351)](n=>+n):[void 0,void 0,void 0];let promiseInventory=null,resolverInventory=null;async function uploadInventory(r=!1,t=!1,e=1){const o=_0x56744c,u={cNAzu:function(n){return n()},qVnWk:o(389),VJPxz:function(n,r){return n===r},Cxuhb:o(308)+o(334),PrhFm:function(n,r){return n(r)},ymfAz:function(n,r){return n===r},uUQuG:o(298)+o(385)+"s",zxQxk:function(n,r){return n!==r},jDMNx:function(n,r,t,e){return n(r,t,e)},UPPmZ:function(n,r){return n+r},WNETf:function(n,r){return n!==r},RMlne:function(n,r,t){return n(r,t)}};try{var n=JSON[o(372)](fs[o(377)+"nc"](process[o(288)][o(322)]+(o(363)+o(349)+o(380)),u[o(289)]))["api_url"],a=await axios[o(359)](n+(o(306)+o(362))+e+(u[o(325)](t,!1)?u[o(352)]:o(337)+t)+(o(327)+o(348)),{headers:{Authorization:o(300)+u[o(376)](btoa,o(303)+o(367))+o(294)},timeout:3e3});if(u[o(364)](a[o(317)][o(329)],0))u[o(314)](resolverInventory);else{try{await product[o(383)]((a[o(317)]||[])[o(351)](n=>({updateOne:{filter:{_id:n[o(321)]},update:{$set:n},upsert:!0}})),{ordered:!1})}catch(n){logger[o(347)](o(310)+o(311)+o(357)+o(366)+o(326)+e)}r&&r[o(319)](u[o(341)],o(371)+o(296)+o(330)+(u[o(361)](t,!1)?o(338)+": "+t+" ":"")+(o(392)+o(315))+e),u[o(318)](uploadInventory,r,t,u[o(343)](e,1))}}catch(n){logger[o(347)](o(391)+o(291)+o(373)+o(296)+o(316)+o(345)+e+(u[o(368)](t,!1)?o(304)+o(340)+t:"")+(o(382)+o(301))+n[o(358)]),r&&(r[o(319)](u[o(341)],o(305)+o(365)+o(293)+o(386)+o(323)+e+(u[o(368)](t,!1)?o(338)+": "+t:"")),u[o(302)](setTimeout,()=>{var n=o;u[n(314)](resolverInventory)},2500))}}async function uploadInventoryAll(n){var r=_0x56744c;try{promiseInventory=new Promise(n=>{resolverInventory=n}),{mSZkm:function(n,r){return n(r)}}[r(387)](uploadInventory,n);try{await promiseInventory}catch{}return!0}catch(n){return!1}}async function updateInventory(n){var r=_0x56744c,t={wEQvL:function(n,r){return n(r)},CLgnA:function(n,r){return n===r},MCcna:function(n,r){return r<n},unrrg:function(n,r){return r<=n},NsXms:function(n,r){return r<n},vlVBw:r(353)+r(356)+r(339)+r(379)+r(296)+"es",IfmbV:function(n,r){return n(r)},jsHWP:function(n,r){return r<n},jQEWP:function(n,r){return n+r},ndPzZ:function(n,r,t){return n(r,t)}};let e=t[r(374)](daysInMonth,month),o=e;var u=(new Date)[r(307)+"g"]()[r(342)]("T")[0][r(342)]("-")[r(351)](n=>+n)[r(309)]("-"),a=[year,month,day];let[i,c,s]=a,f=0;if(!turned_off)return!1;for(;;){if(t[r(299)](a[r(309)]("-"),u))break;if(a[2]++,f++,t[r(292)](a[2],o)&&(t[r(312)](a[1],12)&&(a[0]++,a[1]=0),a[2]=0,a[1]++,o=t[r(374)](daysInMonth,a[1])),t[r(295)](f,5))return logger[r(360)](t[r(290)]),await t[r(313)](uploadInventoryAll,n),!0}for(;;){if(t[r(299)](i+"-"+c+"-"+s,u))break;s++,t[r(346)](day,e)&&(e=t[r(374)](daysInMonth,t[r(390)](month,1)),c++,s=0,t[r(292)](c,12))&&(i++,c=1);var d=i+"-"+c+"-"+s;promiseInventory=new Promise(n=>{resolverInventory=n});try{t[r(354)](uploadInventory,n,d),await promiseInventory}catch{}}return!0}async function updateDiscount(){return!0}async function uploadDiscount(){const t=_0x56744c;try{return await(await{pGPVT:function(n){return n()}}[t(375)](axios)[t(355)](n=>n))[t(351)](async n=>{var r=t;await discount[r(370)]({name:n.id},n)}),!0}catch(n){return logger[t(347)](n[t(358)]),!1}}function _0x41c8(n,r){const t=_0x530a();return(_0x41c8=function(n,r){return n-=288,t[n]})(n,r)}module[_0x56744c(378)]={uploadDiscount:uploadDiscount,updateInventory:updateInventory,updateDiscount:updateDiscount,uploadInventoryAll:uploadInventoryAll};